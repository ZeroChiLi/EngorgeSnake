C51 COMPILER V9.01   ENGORGESNAKE                                                          03/23/2017 23:17:53 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE ENGORGESNAKE
OBJECT MODULE PLACED IN engorgeSnake.OBJ
COMPILER INVOKED BY: D:\Program\Keil\C51\BIN\C51.EXE engorgeSnake.c LARGE BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "initGame.h"
   2          #include "snake.h"
   3          #include "feed.h"
   4          
   5          #define RESTART_GAME 0xFE
   6          
   7          void startGame(Snake * snake,Feed * feed);
   8          
   9          void main(void)
  10          {
  11   1              unsigned char keyNum = 0;                
  12   1              Snake snake;
  13   1              Feed feed;
  14   1      
  15   1              startGame(&snake,&feed);                                                        //初始化游戏成员对象
  16   1      
  17   1              while (1)
  18   1              {                       
  19   2                      initRedMatrix();                                                                //初始化红绿点阵                                
  20   2                      initGreenMatrix();        
  21   2      
  22   2                      keyNum = key_Scan();                                                    //扫描键盘
  23   2      
  24   2                      if (keyNum == RESTART_GAME)                                             //按了key1就是重启游戏
  25   2                      {
  26   3                              startGame(&snake,&feed);
  27   3                              continue;
  28   3                      }
  29   2                      
  30   2                      if (isDirection(keyNum))                                            //判断是否为方向
  31   2                              snakeSetDir(&snake, keyNum);
  32   2                      
  33   2                      snakeMove(&snake);                                                              //更新蛇位置
  34   2      
  35   2                      if (!feedExist(feed))                                                   //判断是否存在食物,没有就加啊
  36   2                              feedsetPos(&feed, getRandomFreePos());
  37   2                      
  38   2                      feedShow(&feed);                                                                //显示食物
  39   2                                                               
  40   2                      updateCol();                                                                    //更新每列数值
  41   2      
  42   2                      showMatrix(1000);                                                               //显示红绿点阵
  43   2      
  44   2                      if (snakeCollision(&snake, &feed))                              //检测碰撞(包括吃食物)
  45   2                              startGame(&snake,&feed);
  46   2              }
  47   1      }
  48          
  49          void startGame(Snake * snake, Feed * feed)
  50          {
  51   1              initSnake(snake);
  52   1              initFeed(feed);
  53   1      }


C51 COMPILER V9.01   ENGORGESNAKE                                                          03/23/2017 23:17:53 PAGE 2   

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    228    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----     203
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
