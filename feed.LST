C51 COMPILER V9.01   FEED                                                                  03/23/2017 23:17:53 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE FEED
OBJECT MODULE PLACED IN feed.OBJ
COMPILER INVOKED BY: D:\Program\Keil\C51\BIN\C51.EXE feed.c LARGE BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "feed.h"
   2          
   3          void initFeed(Feed *feed)
   4          {
   5   1              (*feed).count = 0;
   6   1              feedsetPos(feed, getRandomFreePos());
   7   1      }
   8          
   9          
  10          unsigned char getRandomFreePos()
  11          {
  12   1              unsigned char i, j, freePos[64], freeSize = 0;
  13   1              for (i = 0; i < 8; i++)
  14   1                      for (j = 0; j < 8; j++)
  15   1                              if (redMatrix[i][j] == 0)
  16   1                                      freePos[freeSize++] = xyToInt(j + 1, i + 1);
  17   1              return freePos[rand() % freeSize];
  18   1      }
  19          
  20          void feedsetPos(Feed *feed, unsigned char pos)
  21          {
  22   1              (*feed).x = intToPoint(pos).x;
  23   1              (*feed).y = intToPoint(pos).y;
  24   1              (*feed).count = 1;
  25   1      }
  26          
  27          unsigned char feedEaten(Feed *feed)
  28          {
  29   1              if (!feedExist(*feed))
  30   1                      return 0;
  31   1              (*feed).count = 0;
  32   1              initGreenMatrix();
  33   1              return 1;
  34   1      }
  35          
  36          unsigned char feedExist(Feed feed) { return feed.count == 0 ? 0 : 1; }
  37          
  38          void feedShow(Feed *feed)
  39          {
  40   1              if (!feedExist(*feed))
  41   1                      return;
  42   1              updateGreenMatXY((*feed).x, (*feed).y);
  43   1      }
  44          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    403    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----      83
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.01   FEED                                                                  03/23/2017 23:17:53 PAGE 2   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
